@use "sass:color";
@use 'variables' as *;

.manage-products {
  padding: 1.5rem;
  background: $white;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.09);
  max-width: 900px;
  margin: auto;

  h2 {
    color: $primary-pink;
    text-align: center;
    margin-bottom: 1rem;
  }

  /* ===== Search toolbar â€” same look as your Categories filter ===== */
  .toolbar-row {
    display: flex;
    align-items: center;
    gap: .8rem;
    margin-bottom: 1rem;
  }
  .search-toolbar{
    display:flex; align-items:center; gap:.8rem; flex:1;

    .search-input{
      flex:1;
      padding:.9rem 1.1rem;
      border-radius:14px;
      border:1.6px solid #ffe4f1;
      background:#fef6fb;
      box-shadow:0 2px 8px #e91e6314 inset;
      outline:none; font-size:1rem;
      &::placeholder{ color:#9a8b96; }
      &:focus{
        border-color:$primary-pink; background:#fff;
        box-shadow:0 0 0 3px #ffe4f1;
      }
    }
    .btn-clear{
      border:none; border-radius:12px; padding:.65rem 1.05rem;
      background:#f6edf4; color:#222; font-weight:800;
      box-shadow:0 2px 6px rgba(233,30,99,.12);
      cursor:pointer; transition:background-color .18s;
      &:hover{ background: color.adjust(#f6edf4, $lightness: -6%); }
    }
  }

  /* === Validation look (matches your brand) === */
  .field-error {
    display: block;
    margin-top: .25rem;
    color: #e91e63;
    font-weight: 700;
    font-size: .93rem;
  }
  .was-submitted input.ng-invalid,
  .was-submitted select.ng-invalid,
  input.ng-invalid.ng-touched,
  select.ng-invalid.ng-touched {
    border-color: #e91e63 !important;
    background: #fff2f8 !important;
  }

  /* Brand-styled action bar (import button) */
  .actions-bar {
    display: flex;
    justify-content: flex-start;
    margin-bottom: 16px;

    .brand-btn {
      background: $primary-pink;
      color: #fff;
      border: none;
      padding: 0.6rem 1.1rem;
      border-radius: 12px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 1px 3px rgba(0,0,0,.08);
      transition: filter .15s ease;
      &:hover { filter: brightness(.95); }
    }
  }

  .product-form {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 2.3rem;

    .form-group {
      flex: 1 1 45%;
      &.full-width { flex: 1 1 100%; }
      label { font-weight: 500; }
      input, select {
        width: 100%;
        padding: 0.65rem 1rem;
        border-radius: 6px;
        border: 1px solid #ccc;
        background: #fcf6fa;
        &:focus { border-color: $primary-pink; background: #fff6fb; }
      }
      .hint { font-size: .85rem; color: #888; margin-top: .25rem; }
      .error { font-size: .85rem; color: #d4145a; margin-top: .25rem; }
    }

    .existing-images {
      .thumbnails {
        display: flex; gap: 1rem;
        .thumb {
          width: 100px;
          .thumb-image {
            position: relative; width: 100%; height: 100px; border-radius: 6px; margin-bottom: .4rem;
            img { width: 100%; height: 100%; object-fit: cover; border-radius: 6px; }
            .delete-btn {
              position: absolute; top: 4px; right: 4px;
              background: #e91e63; color: white; border: none; border-radius: 50%;
              width: 22px; height: 22px; cursor: pointer; font-weight: bold;
            }
          }
        }
      }
      .primary-label, .secondary-label {
        display: flex; align-items: center; font-size: .93em;
        input { margin-right: .25em; }
      }
    }

    .form-actions {
      flex: 1 1 100%;
      display: flex; gap: 1rem; justify-content: flex-end;
      button {
        background: $primary-pink; color: $white; border: none; padding: 0.7rem 1.3rem; border-radius: 6px; font-weight: bold;
        cursor: pointer; transition: background-color 0.22s;
        &:hover { background: color.adjust($primary-pink, $lightness: -13%); }
        &.cancel-btn { background: $grey-bg; color: $black; &:hover { background: color.adjust($grey-bg, $lightness: -10%); } }
      }
    }
  }

  /* Table / list */
  .products-table-container {
    margin-top: 1.5rem;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 18px #e91e6340;

    .products-table-header, .products-table-row {
      display: grid;
      grid-template-columns: 2.5fr 1fr 1fr 1fr;
      align-items: center;
      padding: 0 1.5rem;
      min-height: 54px;
    }
    .products-table-header {
      background: #e91e63;
      color: #fff;
      font-weight: 600;
      font-size: 1.35rem;
      letter-spacing: 0.02em;
      .cell { padding: 18px 0 10px 0; }
    }
    .products-table-row {
      background: #fff;
      border-bottom: 1px solid #f7d4e5;
      transition: background 0.18s;
      &:hover { background: #fff2fa; }
      .cell {
        padding: 12px 0;
        font-size: 1.04rem;
        display: flex;
        align-items: flex-start;
        &.name {
          flex-direction: column; justify-content: center;
          .prod-title { font-weight: bold; color: #e91e63; font-size: 1.18rem; }
          .prod-desc  { color: #a2a2a2; font-size: 0.98rem; margin-bottom: 2px; }
          .prod-type  { color: #af3377; font-size: 0.94rem; }
        }
      }
      .cell.actions {
        display: flex; gap: 0.6rem; align-items: center; justify-content: flex-start;
        .icon-btn {
          background: none; border: none; padding: 4px;
          border-radius: 6px; cursor: pointer; transition: background 0.14s;
          &:hover { background: #fde0ed; }
          .svg-icon { width: 25px; height: 25px; fill: #e91e63; }
          &.pencil .svg-icon { fill: #ff9800; }
          &.trash  .svg-icon { fill: #e91e63; }
        }
      }
    }
  }
}

.category-badge {
  margin-top: 8px;
  font-weight: 500;
  .badge {
    background: #ffebf4;
    color: #e91e63;
    border-radius: 8px;
    padding: 2px 10px;
    font-size: 1em;
  }
}
